# –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5 ‚Äî Express‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ò–ú–¢ (BMI)¬ª

**–¢–µ–º–∞:** API –∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞ Express.js –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–µ–∫—Å–∞ –º–∞—Å—Å—ã —Ç–µ–ª–∞, —Å UI‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü–µ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–π —ç—Ç–æ API.  

–°—Å—ã–ª–∫–∞ –Ω–∞ GitHub: https://github.com/CatherineFlower/Industrial_programming_technologies.3_sem/tree/master/KR5

## –ö—Ä–∞—Ç–∫–æ
–°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ò–ú–¢. –ù–∞ –≥–ª–∞–≤–Ω–æ–π (`/`) –æ—Ç–¥–∞—ë—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è HTML‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ñ–æ—Ä–º–æ–π. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –ò–ú–¢ —á–µ—Ä–µ–∑ **POST** (—Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞) –∏–ª–∏ **GET** (query‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä—ã). –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è JSON —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `GET /api/bmi/info` ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ò–ú–¢;
- `GET /api/bmi/calc?weight=70&height=170` ‚Äî —Ä–∞—Å—á—ë—Ç —á–µ—Ä–µ–∑ query;
- `POST /api/bmi/calc` ‚Äî —Ä–∞—Å—á—ë—Ç —á–µ—Ä–µ–∑ —Ç–µ–ª–æ JSON (`{ "weight": 70, "height": 170 }`);
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–∞: —Ä–æ—Å—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–∞—Ö –∏–ª–∏ –º–µ—Ç—Ä–∞—Ö;
- –ì—Ä–µ–π–¥–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤–µ—Å–∞ / –Ω–æ—Ä–º–∞ / –ª–∏—à–Ω–∏–π –≤–µ—Å / –æ–∂–∏—Ä–µ–Ω–∏–µ;
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ –æ—Ç–≤–µ—Ç–µ;
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π middleware –ª–æ–≥–≥–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤ –∫–æ–Ω—Å–æ–ª—å);
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (400 ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã);
- –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ `public/`;
- –†–∞–∑–Ω–µ—Å–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–æ –º–æ–¥—É–ª—è–º: **routes** + **controllers** + **middlewares**.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Node.js + Express;
- –ü–∞—Ä—Å–µ—Ä—ã `express.json()` –∏ `express.urlencoded()`;
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `src/app.js`, `src/routes`, `src/controllers`, `src/middlewares`;
- UI: —á–∏—Å—Ç—ã–π HTML + JS –∏–∑ `public/`, –∑–∞–ø—Ä–æ—Å—ã –∫ API —á–µ—Ä–µ–∑ `fetch`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
KR5/
  public/           # —Å—Ç–∞—Ç–∏–∫–∞ (index.html, —Å—Ç–∏–ª–∏ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π JS)
  src/
    controllers/    # –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ò–ú–¢ –∏ —Å–ø—Ä–∞–≤–∫–∞
    middlewares/    # –ª–æ–≥–≥–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    routes/         # /api/bmi/*
    app.js          # —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏–∫–∞ –∏ –º–∏–¥–ª–≤–∞—Ä—ã
    server.js       # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç .env PORT)
  package.json
  README.md         # —ç—Ç–æ—Ç —Ñ–∞–π–ª (–¥–ª—è –∫–æ—Ä–Ω—è –¢–ò–ü –ø–æ–ª–æ–∂–∏—Ç–µ –∫–æ–ø–∏—é)
```

## –ó–∞–ø—É—Å–∫
```bash
cd KR5
npm i
# –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞–π—Ç–µ –ø–æ—Ä—Ç:
# echo "PORT=3000" > .env
npm run dev
# –∑–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
```

## API
- **GET** `/api/bmi/info`
- **GET** `/api/bmi/calc?weight=70&height=170`
- **POST** `/api/bmi/calc` ‚Üí body: `{ "weight": 70, "height": 170 }`

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
```json
{
  "ok": true,
  "bmi": 22.04,
  "category": "–ù–æ—Ä–º–∞",
  "advice": "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –±–∞–ª–∞–Ω—Å –ø–∏—Ç–∞–Ω–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏."
}
```

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
1) –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, —Ñ–æ—Ä–º–∞ –¥–æ —Ä–∞—Å—á—ë—Ç–∞  
![–ì–ª–∞–≤–Ω–∞—è](scrins/img_1.png)

2) –í–∞–ª–∏–¥–∞—Ü–∏—è HTML5 (¬´–í—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ —ç—Ç–æ –ø–æ–ª–µ¬ª)  
![–í–∞–ª–∏–¥–∞—Ü–∏—è](scrins/img_2.png)

3) –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Äî ¬´–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –≤–µ—Å¬ª (POST)  
![–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –≤–µ—Å](scrins/img_3.png)

4) –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Äî —á–µ—Ä–µ–∑ GET, —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤  
![GET‚Äë–ø—Ä–∏–º–µ—Ä](scrins/img_4.png)

5) –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Äî ¬´–ù–æ—Ä–º–∞¬ª  
![–ù–æ—Ä–º–∞](scrins/img_5.png)

6) –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Äî ¬´–û–∂–∏—Ä–µ–Ω–∏–µ¬ª  
![–û–∂–∏—Ä–µ–Ω–∏–µ](scrins/img_6.png)
